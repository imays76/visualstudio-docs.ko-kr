---
title: 다중 스레드 앱 디버깅
description: 스레드 창 및 디버그 위치 도구 모음을 사용 하 여 Visual Studio에서 디버그
ms.date: 11/21/2018
ms.topic: conceptual
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- multithreaded debugging, tutorial
- tutorials, multithreaded debugging
ms.assetid: adfbe002-3d7b-42a9-b42a-5ac0903dfc25
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: 2d320c4cc2a224dd17ea85337e38fb43ae8aa5bd
ms.sourcegitcommit: 01185dadd2fa1f9a040d2a366869f1a5e1d18e0f
ms.translationtype: MTE95
ms.contentlocale: ko-KR
ms.lasthandoff: 01/11/2019
ms.locfileid: "54227670"
---
# <a name="walkthrough-debug-a-multithreaded-app-using-the-threads-window-c-visual-basic-c"></a>연습: 스레드 창을 사용 하 여 다중 스레드 앱 디버깅 (C#, Visual Basic, c + +)

여러 Visual Studio 사용자 인터페이스 요소에 다중 스레드 응용된 프로그램을 디버깅할 수 있습니다. 이 문서에서는 코드 편집기 창에서 다중 스레드 디버깅 기능을 소개 **디버그 위치** 도구 모음 및 **스레드** 창입니다. 다중 스레드 응용된 프로그램 디버깅을 위한 다른 도구에 대 한 정보를 참조 하세요 [다중 스레드 응용된 프로그램 디버깅 시작](../debugger/get-started-debugging-multithreaded-apps.md)합니다. 
  
이 자습서를 완료 몇 분 정도 걸리며 다중 스레드 앱 디버깅의 기본 사항을 살펴봅니다.

## <a name="create-a-multithreaded-app-project"></a>다중 스레드 앱 프로젝트 만들기  

이 자습서에서는 다음 다중 스레드 응용 프로그램 프로젝트를 만듭니다. 
  
1. Visual Studio에서 **파일** > **새로 만들기** > **프로젝트**를 선택합니다.  
   
1. **새 프로젝트** 대화 상자에서 다음을 수행합니다.
   - 에 대 한는 C# 앱을 선택 **시각적 C#**    >  **콘솔 앱 (.NET Framework)**.  
   - C + + 앱의 경우 선택 **Visual c + +** > **Windows 콘솔 응용 프로그램**합니다.
   
1. MyThreadWalkthroughApp, 앱의 이름을 선택한 후 **확인**합니다.  
   
   새 프로젝트에 나타납니다 **솔루션 탐색기**, 소스 파일을 호출 하 고 *Program.cs* 또는 *MyThreadWalkthroughApp.cpp* 소스 코드 창에서 열립니다.  
   
1. 인 소스 파일의 코드는 C# 또는 c + + 예제에서는 코드 [다중 스레드 응용된 프로그램 디버깅 시작](../debugger/get-started-debugging-multithreaded-apps.md)합니다.  
   
1. 선택 **파일** > **모두 저장**합니다.  
  
## <a name="start-debugging"></a>디버깅 시작 

1. 소스 코드의 다음 줄을 찾습니다.  
   
   ```csharp  
   Thread.Sleep(3000); 
   Console.WriteLine();
   ```  
   
   ```C++ 
   Thread::Sleep(3000); 
   Console.WriteLine(); 
   ```
   
1. 에 중단점을 설정 합니다 `Console.WriteLine();` 왼쪽 여백을 클릭 하거나 줄을 선택 하 고 키를 눌러 줄 **F9**합니다.  
   
   중단점이 코드 줄 옆에 있는 왼쪽된 여백에 빨간색 원이 표시 됩니다.  
   
1. 선택 **디버깅할** > **디버깅 시작**를 누르거나 **F5**합니다.  
   
   디버그 모드에서 시작 하 고 중단점에서 일시 중지 하는 앱.  
   
1. 중단 모드에서 엽니다는 **스레드** 를 선택 하 여 창 **디버그** > **Windows** > **스레드**합니다. 열거나 참조에 대 한 디버깅 세션에 있어야 합니다 **스레드** 창 및 기타 디버깅 합니다. 
   
## <a name="examine-thread-markers"></a>스레드 마커를 검사 합니다.

1. 소스 코드에서 찾습니다는 `Console.WriteLine();` 줄. 
   
   1. 마우스 오른쪽 단추로 클릭 합니다 **스레드** 창에서 선택한 **소스의 스레드 표시** ![소스의 스레드 표시](../debugger/media/dbg-multithreaded-show-threads.png "ThreadMarker") 메뉴에서.
   
   소스 코드 옆에 있는 여백 표시 이제 줄을 *스레드 마커* 아이콘 ![스레드 마커](../debugger/media/dbg-thread-marker.png "스레드 마커")합니다. 스레드 마커는 이 위치에서 스레드가 중지되었음을 나타냅니다. 위치에 둘 이상의 중지 된 스레드 이면 합니다 ![여러 스레드가](../debugger/media/dbg-multithreaded-show-threads.png "다중 스레드") 아이콘이 표시 됩니다.
   
1. 스레드 마커에 포인터를 올려 놓습니다. 중지 된 스레드 또는 스레드 이름과 스레드 ID 번호를 보여 주는 DataTip이 나타납니다. 스레드 이름의 않을 `<No Name>`합니다.  

   >[!TIP]
   >이름이 없는 스레드를 식별할 이름을 바꿀 수 있습니다 하는 **스레드** 창입니다. 스레드를 마우스 오른쪽 단추로 클릭 **이름 바꾸기**합니다.
  
1. 바로 가기 메뉴에서 사용할 수 있는 옵션을 보려면 소스 코드에서 스레드 마커를 마우스 오른쪽 단추로 클릭 합니다. 

## <a name="flag-and-unflag-threads"></a>스레드에 플래그 지정 및 스레드의 플래그 해제 

에 특별히 주의 하려는 스레드를 추적 하는 스레드 플래그를 지정할 수 있습니다. 

플래그 및 또는 소스 코드 편집기에서 스레드의 합니다 **스레드** 창입니다. 스레드 또는 모든 스레드 플래그 지정만 표시할지 여부를 선택 합니다 **디버그 위치** 또는 **스레드** 창 도구 모음입니다. 모든 위치에서 선택한 모든 위치를 영향을 줍니다. 

### <a name="flag-and-unflag-threads-in-source-code"></a>플래그 및 소스 코드에서 스레드 플래그 해제 

1. 엽니다는 **디버그 위치** 를 선택 하 여 도구 모음 **보기** > **도구 모음** > **디버그 위치**합니다. 도구 모음 영역에서 마우스 오른쪽 단추로 클릭 하 고 선택 해도 있습니다 **디버그 위치**합니다. 
   
1. 합니다 **디버그 위치** 도구 모음에 세 개의 필드가 있습니다. **프로세스**, **스레드**, 및 **스택 프레임이**합니다. 드롭다운을 **스레드** 목록 및 스레드 수는 있습니다. 에 **스레드** 목록에서 현재 실행 중인 스레드와로 표시 되는 **>** 기호입니다. 
   
1. 소스 코드 창에서 여백에서 스레드 마커 아이콘 위에 놓고 DataTip에서 플래그 아이콘 (또는 빈 플래그 아이콘 중 하나)를 선택 합니다. 빨간색 플래그 아이콘으로 바뀝니다. 
   
   스레드 마커 아이콘을 마우스 오른쪽 단추로 클릭 가리킵니다 **플래그**, 한 다음 바로 가기 메뉴에서 플래그를 설정 하려면 스레드를 선택 합니다.  
   
1. 에 **디버그 위치** 도구 모음을 선택 합니다 **플래그가 지정 된 스레드만 표시** 아이콘 ![플래그가 지정 된 스레드 표시](../debugger/media/dbg-threads-show-flagged.png "플래그가 지정 된 스레드 표시")를 오른쪽의 **스레드** 필드입니다. 하나 이상의 스레드를 사용 하는 플래그가 지정 된 경우가 아니면 아이콘은 회색으로 표시 합니다.  
   
   플래그가 지정 된 스레드만 나타나는 합니다 **스레드** 도구 모음에서 드롭다운 합니다. 모든 스레드를 다시 표시 하려면 선택 합니다 **플래그가 지정 된 스레드만 표시** 아이콘을 다시 합니다.
   
   >[!TIP]
   >일부 스레드를 플래그를 지정한 후 코드 편집기를 마우스 오른쪽 단추로에 커서를 배치할 수 있습니다 **커서 플래그가 지정 된 스레드가 실행**합니다. 코드는 모든 플래그가 지정 된 스레드만 도달 선택 해야 합니다. **플래그가 지정 된 스레드가 커서까지 실행** 는 선택한 코드 줄을 쉽게 실행 하 여 순서를 제어 하에서 스레드를 일시 중지 됩니다 [스레드 중지 및 재개](#bkmk_freeze)합니다.
   
1. 현재 실행 중인 스레드의 플래그가 지정 된 또는 플래그가 지정 되지 않은 상태를 전환 하려면 단일 플래그를 선택 **현재 스레드 플래그가 지정 된 상태 설정/해제** 왼쪽의 도구 모음 단추를 **플래그가 지정 된 스레드만 표시** 단추입니다. 현재 스레드에 플래그를 지정 하는 것은 플래그가 지정 된 스레드만 표시 하는 경우 현재 스레드를 찾는 데 유용 합니다. 
   
1. 스레드의 플래그를 해제 하려면 소스 코드에서 스레드 마커를 마우스로 선택한 빨간색 플래그 아이콘을 선택 취소 또는 스레드 마커를 마우스 오른쪽 단추로 누르고 **플래그 해제**합니다.  

### <a name="flag-and-unflag-threads-in-the-threads-window"></a>플래그 및 스레드 창에서 스레드 플래그 해제 

에 **스레드** 창 플래그가 지정 된 스레드가 있는 빨간색 플래그 아이콘 옆에 플래그가 지정 되지 않은 스레드를 하는 동안를 표시 하는 경우, 빈 아이콘이 있습니다.

![스레드 창](../debugger/media/dbg-threads-window.png "스레드 창")  
  
플래그가 지정 된 또는 현재 상태에 따라 플래그가 해제 된 스레드 상태를 변경 하는 플래그 아이콘을 선택 합니다. 

또한 줄을 마우스 오른쪽 단추로 클릭 하 고 선택할 수 **플래그**를 **플래그 해제**, 또는 **모든 스레드 플래그 해제** 바로 가기 메뉴에서. 

합니다 **스레드** 창 도구 모음에 있으며를 **스레드 스레드만 표시** 두 플래그 아이콘 중 하나를 오른쪽 단추를 합니다. 단추와 동일 하 게 작동 합니다 **디버그 위치** 도구 모음 및 단추 중 하나에 두 위치 모두에 표시를 제어 합니다. 

### <a name="other-threads-window-features"></a>다른 스레드 창 기능

에 **스레드** 창에서 해당 열으로 스레드를 정렬 하려면 열 머리글을 선택 합니다. 정렬 순서를 반대로 하려면 다시를 선택 합니다. 모든 스레드를 표시 하는 경우 플래그가 지정 된 또는 플래그가 지정 되지 않은 상태에서 스레드를 정렬 플래그 아이콘 열을 선택 합니다. 

두 번째 열은 **스레드** (헤더 없음)는 합니다 **현재 스레드** 열입니다. 이 열에 있는 노란색 화살표는 현재 실행 위치를 표시합니다. 

합니다 **위치** 열 각 스레드가 소스 코드에 표시 되는 위치를 보여 줍니다. 다음 확장 화살표를 선택 합니다 **위치** 항목 또는 해당 스레드의 부분 호출 스택이 표시 하려면 항목 위로 마우스를 가져가고 합니다. 

>[!TIP]
>호출 스택 스레드에 대 한 그래픽 뷰를 사용 합니다 [병렬 스택](../debugger/using-the-parallel-stacks-window.md) 창입니다. 선택 창에서 디버깅 하는 동안를 열려면 **디버깅할**> **Windows** > **병렬 스택**합니다.  

외에 **플래그**를 **플래그 해제**, 및 **모든 스레드 플래그 해제**를 마우스 오른쪽 단추 클릭 상황에 맞는 메뉴 **스레드** 창 항목에:

- 합니다 **소스의 스레드 표시** 단추입니다.
- **16 진수 표시**, 변경 내용을 합니다 **스레드 ID**의 합니다 **스레드** 10 진수에서 16 진수 형식으로 창. 
- [스위치를 스레드](#switch-to-another-thread)는 즉시 해당 스레드로 실행을 전환 합니다. 
- **이름 바꾸기**, 스레드 이름을 변경할 수 있습니다. 
- [고정 및 고정 해제](#bkmk_freeze) 명령입니다.

## <a name="bkmk_freeze"></a> 중지 하 고 스레드 실행을 재개 

고정 및 고정 해제, 또는 일시 중단 하 스레드 작업을 수행 하는 순서를 제어 하는 스레드를 다시 시작 합니다. 스레드 중지 및 재개 하면 교착 상태 같은 동시성 문제를 해결 하 고 경합 조건이 됩니다.

> [!TIP]
> 일반적인 디버깅 시나리오 이기도 다른 스레드를 고정 하지 않고 단일 스레드를 수행 하려면을 참조 하세요 [다중 스레드 응용 프로그램 디버깅 시작](../debugger/get-started-debugging-multithreaded-apps.md#bkmk_follow_a_thread)합니다.
  
**스레드를 중지 및 해제하려면:**  
  
1. 에 **스레드** 창에서 모든 스레드를 마우스 오른쪽 단추로 클릭 하 고 선택한 **고정**합니다. A **일시 중지** 아이콘에는 **현재 스레드** 스레드를 고정 열에 표시 합니다.  
   
1. 선택 **열** 에 **스레드** 창 도구 모음을 선택한 후 **일시 중단 횟수** 표시 하는 **일시 중단 횟수** 열입니다. 중지 된 스레드를 일시 중단된 횟수 값이 **1**합니다.  
   
1. 중지 된 스레드를 마우스 오른쪽 단추로 클릭 **재개**합니다.  
  
   합니다 **일시 중지** 아이콘이 사라집니다 하며 **일시 중단 횟수** 값이 변경 **0**합니다. 
  
## <a name="switch-to-another-thread"></a>다른 스레드로 전환 

표시 될 수 있습니다는 **중단 모드에서 응용 프로그램은** 다른 스레드로 전환 하려고 할 때 창입니다. 스레드가 현재 디버거를 표시할 수 있는 코드 없는이 창에서 알 수 있습니다. 예를 들어 관리 되는 코드를 디버깅할 수 있지만 스레드가 네이티브 코드는 합니다. 창 문제를 해결 하는 것에 대 한 제안을 제공 합니다. 
  
**다른 스레드로 전환 합니다.**

1. 에 **스레드** 창에서 현재 스레드 ID 기록해 노란색 화살표는 스레드는 합니다 **현재 스레드** 열. 이 스레드가 계속 앱으로 다시 전환 합니다. 
   
1. 다른 스레드를 마우스 오른쪽 단추로 클릭 **스위치를 스레드** 상황에 맞는 메뉴입니다.  
   
1. 노란색 화살표 위치가에서 변경 되어 있는지 확인 합니다 **스레드** 창입니다. 원래 현재 스레드 마커도 그대로, 개요. 
   
   코드 소스 편집기에서 스레드 마커 및 목록에 도구 설명을 확인 합니다 **스레드** 드롭다운을 합니다 **디버그 위치** 도구 모음입니다. 현재 스레드에 있는 변경도 된 관찰 합니다. 
   
1. 에 **디버그 위치** 도구 모음에서 다른 스레드를 선택 합니다 **스레드** 목록입니다. 또한 현재 스레드에 다른 두 위치에서 변경 하는 참고 합니다. 
   
1. 소스 코드 편집기에서 스레드 마커를 마우스 오른쪽 **스위치를 스레드**, 목록에서 다른 스레드를 선택 합니다. 현재 스레드에서 모든 세 위치에서 변경 되는지 관찰 합니다.  
   
소스 코드에서 스레드 마커를 사용 하 여 해당 위치에서 중지 된 스레드에만 전환할 수 있습니다. **스레드** 창 및 **디버그 위치** 도구 모음을 사용하면 임의의 스레드로 전환할 수 있습니다.   

다중 스레드 앱 디버깅의 기본 사항을 배웠습니다. 관찰, 플래그 및 플래그를 해제 하 고 고정를 사용 하 여 스레드 재개를 **스레드** 창 합니다 **스레드** 목록에 **디버그 위치** 도구 모음 또는 스레드 마커를 소스 코드 편집기입니다.
  
## <a name="see-also"></a>참고 항목  
 [다중 스레드 애플리케이션 디버그](../debugger/debug-multithreaded-applications-in-visual-studio.md)   
 [방법: 디버그 중 다른 스레드로 전환](../debugger/how-to-switch-to-another-thread-while-debugging.md)
