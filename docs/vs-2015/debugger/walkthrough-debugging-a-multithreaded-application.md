---
title: '연습: 다중 스레드 응용 프로그램 디버그 | Microsoft Docs'
ms.custom: ''
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.reviewer: ''
ms.suite: ''
ms.technology:
- vs-ide-debug
ms.tgt_pltfrm: ''
ms.topic: article
dev_langs:
- FSharp
- VB
- CSharp
- C++
helpviewer_keywords:
- multithreaded debugging, walkthrough
- walkthroughs, multithreaded debugging
ms.assetid: 590ffd57-0556-43d8-8962-ee27e5b2b7d7
caps.latest.revision: 42
author: mikejo5000
ms.author: mikejo
manager: ghogen
ms.openlocfilehash: 853719e66bf7cd6a258bc2df231ca04fca7a9242
ms.sourcegitcommit: 240c8b34e80952d00e90c52dcb1a077b9aff47f6
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/23/2018
ms.locfileid: "49884903"
---
# <a name="walkthrough-debugging-a-multithreaded-application"></a>연습: 다중 스레드 응용 프로그램 디버깅
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

[!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] 향상 된 제공 **스레드** 창 및 기타 사용자 인터페이스가 디버그 다중 스레드 응용 프로그램을 쉽게 수행할 수 있도록 향상 되었습니다. 이 연습은 몇 분 정도 소요되지만 연습을 완료하면 다중 스레드 응용 프로그램 디버깅을 위한 새로운 인터페이스 기능에 익숙해질 수 있습니다.  
  
 이 연습을 시작하려면 다중 스레드 응용 프로그램 프로젝트가 필요합니다. 여기에 나열된 단계에 따라 프로젝트를 만드십시오.  
  
#### <a name="to-create-the-walkthrough-project"></a>연습 프로젝트를 만들려면  
  
1.  에 **파일** 메뉴에서 선택 **새로 만들기** 을 클릭 한 다음 **프로젝트**합니다.  
  
     **새 프로젝트** 대화 상자가 나타납니다.  
  
2.  에 **프로젝트 형식**s 상자 사용자가 선택한 언어를 클릭 합니다: **Visual Basic**를 **Visual C#**, 또는 **Visual c + +** 합니다.  
  
3.  에 **템플릿을** 상자에서 **콘솔 응용 프로그램** 또는 **CLR 콘솔 응용 프로그램**합니다.  
  
4.  에 **이름을** 상자에 MyThreadWalkthroughApp 라는 이름을 입력 합니다.  
  
5.  **확인**을 클릭합니다.  
  
     새 콘솔 프로젝트가 나타납니다. 프로젝트가 만들어지면 소스 파일이 나타납니다. 선택한 언어에 따라 소스 파일 이름이 Module1.vb, Program.cs 또는 MyThreadWalkthroughApp.cpp일 수 있습니다.  
  
6.  소스 파일에 표시 되는 코드를 삭제 하 고 항목의 "스레드 만들기" 섹션에 나타나는 예제 코드로 바꿉니다 [스레드 만들기 및 시작 시 데이터 전달](http://msdn.microsoft.com/library/52b32222-e185-4f42-91a7-eaca65c0ab6d)합니다.  
  
7.  에 **파일** 메뉴에서 클릭 **모두 저장**합니다.  
  
#### <a name="to-begin-the-walkthrough"></a>연습을 시작하려면  
  
-   소스 창에서 다음 코드를 찾습니다.  
  
    ```vb  
    Thread.Sleep(3000)   
    Console.WriteLine(  
    ```  
  
```csharp  
Thread.Sleep(3000);  
Console.WriteLine();  
```  
  
```cpp  
Thread::Sleep(3000);  
Console.WriteLine();  
```  
  
#### <a name="to-start-debugging"></a>디버깅을 시작하려면  
  
1.  마우스 오른쪽 단추로 클릭 합니다 `Console.WriteLine` 문을 가리킵니다 **중단점** 을 클릭 한 다음 **중단점 삽입**합니다.  
  
     소스 창 왼쪽의 여백에 빨간 공이 나타납니다. 이 공은 이 위치에 중단점이 설정되었음을 나타냅니다.  
  
2.  **디버그** 메뉴에서 **디버깅 시작**을 클릭합니다.  
  
     디버깅을 시작하면 콘솔 응용 프로그램이 실행되다가 중단점에서 중지됩니다.  
  
3.  이때 콘솔 응용 프로그램 창에 포커스가 있으면 [!INCLUDE[vsprvs](../includes/vsprvs-md.md)] 창을 클릭하여 [!INCLUDE[vsprvs](../includes/vsprvs-md.md)]로 포커스를 되돌립니다.  
  
4.  소스 창에서 다음 코드가 있는 줄을 찾습니다.  
  
    ```vb  
    Thread.Sleep(5000)   
    ```  
  
```csharp  
Thread.Sleep(3000);  
```  
  
```cpp  
Thread::Sleep(3000);  
```  
  
1.  
  
#### <a name="to-discover-the-thread-marker"></a>스레드 마커를 찾으려면  
  
1. 마우스 오른쪽 단추로 클릭 합니다 **스레드** 창에서 클릭 **소스의 스레드 표시**합니다.  
  
2. 창 왼쪽의 여백을 확인합니다. 이 줄에는 실 모양 아이콘 두 개가 있습니다. 하나는 빨간색이고 다른 하나는 파란색입니다. 스레드 마커는 이 위치에서 스레드가 중지되었음을 나타냅니다. 스레드가 이 위치에서 중지되었을 수 있습니다.  
  
3. 스레드 마커에 포인터를 올려 놓습니다. DataTip이 나타납니다. DataTip을 통해 중지된 각 스레드의 이름과 스레드 ID 번호를 알 수 있습니다. 이 경우 이름이 `<noname>`인 스레드 한 개만 있습니다.  
  
4. 스레드 마커를 마우스 오른쪽 단추로 클릭합니다. 바로 가기 메뉴에서 선택 내용을 확인합니다.  
  
   이 아이콘은는 *스레드 마커*:  
  
   ![스레드 마커](../debugger/media/threadmarker.gif "ThreadMarker")  
  
## <a name="flagging-and-unflagging-threads"></a>스레드에 플래그 지정 및 해제  
 [!INCLUDE[vs_orcas_long](../includes/vs-orcas-long-md.md)]에서는 특히 주의할 스레드에 플래그를 지정할 수 있습니다. 스레드에 플래그를 지정하면 중요한 스레드를 추적하고 중요하지 않은 스레드는 무시할 수 있습니다.  
  
#### <a name="to-flag-threads"></a>스레드에 플래그를 지정하려면  
  
1.  온 **뷰** 메뉴에서 **도구 모음**합니다.  
  
     있는지 확인 합니다 **디버그 위치** 도구 모음이 선택 되어 있습니다.  
  
2.  로 이동 합니다 **디버그 위치** 도구 모음을 클릭 합니다 **스레드** 목록입니다.  
  
    > [!NOTE]
    >  세 가지 중요 한 목록을 통해이 도구 모음을 인식할 수 있습니다: **프로세스**를 **스레드**, 및 **스택 프레임**합니다.  
  
3.  목록에 나타나는 스레드 수를 확인합니다.  
  
4.  소스 창을 마우스 오른쪽 단추로 클릭으로 다시 이동 합니다 **스레드** 마커를 다시 합니다.  
  
5.  바로 가기 메뉴에서 **플래그**, 그런 다음 스레드 이름과 ID 번호를 클릭 합니다.  
  
6.  로 돌아가서 **디버그 위치** 도구 모음을 클릭 합니다 **스레드** 목록을 다시 합니다.  
  
     플래그가 지정된 스레드만 목록에 나타납니다. 오른쪽에 있는 플래그 단추를 **스레드** 목록입니다. 이전에는 희미하게 표시되던 단추의 플래그 아이콘이 지금은 밝은 빨강으로 표시됩니다.  
  
7.  플래그 아이콘에 포인터를 올려 놓습니다.  
  
     팝업이 나타납니다. 이 팝업 모드를 **스레드** 목록의: **플래그가 지정 된 스레드만 표시**합니다.  
  
8.  다시 전환 하려면 플래그 단추를 클릭 **모든 스레드 표시** 모드입니다.  
  
9. 클릭 합니다 **스레드** 다시 나열 하 고 다시 모든 스레드가 표시 되는지 확인 합니다.  
  
10. 다시 전환 하려면 플래그 단추를 클릭 **플래그가 지정 된 스레드만 표시**합니다.  
  
11. 에 **디버그** 메뉴에서 **Windows** 을 클릭 한 다음 **스레드**합니다.  
  
     합니다 **스레드** 창이 나타납니다. 스레드 한 개에 중요한 플래그 아이콘이 연결되어 있습니다.  
  
12. 소스 창에서 스레드 마커를 다시 마우스 오른쪽 단추로 클릭합니다.  
  
     바로 가기 메뉴에서 선택할 수 있는 항목을 확인합니다. 대신 **플래그**에 표시 됩니다 **플래그 해제**합니다. 클릭 하지 마세요 **플래그 해제**합니다.  
  
13. 스레드의 플래그를 해제하기 위한 다음 절차로 이동합니다.  
  
#### <a name="to-unflag-threads"></a>스레드의 플래그를 해제하려면  
  
1.  에 **스레드** 창에서 플래그가 지정 된 스레드에 해당 하는 줄을 마우스 오른쪽 단추로 클릭 합니다.  
  
     바로 가기 메뉴가 표시됩니다. 에 해당 하는 옵션이 **플래그 해제** 하 고 **모든 스레드 플래그 해제**합니다.  
  
2.  스레드의 플래그를 해제 하려면 **플래그 해제**합니다.  
  
3.  빨간색 플래그 아이콘을 클릭합니다.  
  
4.  확인 합니다 **디버그 위치** 다시 도구 모음입니다. 플래그 단추가 다시 희미해집니다. 플래그가 지정된 스레드의 플래그만 해제됩니다. 플래그가 지정 된 스레드가 없습니다 이기 때문에 도구 모음은 다시 **모든 스레드 표시** 모드입니다. 클릭 합니다 **스레드** 나열 하 고 모든 스레드를 볼 수 있는지 확인 합니다.  
  
5.  로 다시 이동 합니다 **스레드** 창 정보 열을 검사 합니다.  
  
     각 열 맨 위의 단추에는 대부분 열을 식별하는 제목이 있습니다. 그러나 왼쪽 첫째 열에는 제목이 없습니다. 대신 플래그 윤곽선에 해당하는 아이콘이 있습니다. 스레드 목록의 각 행에도 같은 윤곽선이 있습니다. 이 윤곽선은 스레드의 플래그가 해제되었음을 나타냅니다.  
  
6.  목록 아래쪽에서 둘째 스레드와 셋째 스레드의 플래그 윤곽선을 클릭합니다.  
  
     플래그 아이콘은 빈 윤곽선 대신 빨간색으로 변합니다.  
  
7.  플래그 열 맨 위의 단추를 클릭합니다.  
  
     단추를 클릭하면 스레드 목록의 순서가 변경됩니다. 스레드 목록은 플래그가 지정된 스레드가 맨 위에 오도록 정렬됩니다.  
  
8.  플래그 열 맨 위의 단추를 다시 클릭합니다.  
  
     정렬 순서가 다시 변경됩니다.  
  
## <a name="more-about-the-threads-window"></a>스레드 창에 대한 추가 정보  
  
#### <a name="to-learn-more-about-the-threads-window"></a>스레드 창에 대해 자세히 알아 보려면  
  
1.  에 **스레드** 창 왼쪽에서 세 번째 열을 확인 합니다. 이 열의 맨 위에 있는 단추가 표시 되 면 **ID**합니다.  
  
2.  클릭 **ID**합니다.  
  
     스레드 목록이 스레드 ID 번호순으로 정렬됩니다.  
  
3.  목록의 스레드를 마우스 오른쪽 단추로 클릭합니다. 바로 가기 메뉴에서 클릭 **16 진수 표시**합니다.  
  
     스레드 ID 번호 형식이 변경됩니다.  
  
4.  목록의 스레드에 마우스 포인터를 올려 놓습니다.  
  
     잠시 후 DataTip이 나타납니다. 여기에 스레드의 부분 호출 스택이 표시됩니다.  
  
5.  레이블이 있는 왼쪽에서 네 번째 열을 살펴봅니다 **범주**합니다. 스레드가 범주로 분류되어 있습니다.  
  
     프로세스에서 만든 첫째 스레드를 주 스레드라고 합니다. 스레드 목록에서 주 스레드를 찾습니다.  
  
6.  주 스레드를 마우스 오른쪽 단추로 누른 **스레드로 전환**합니다.  
  
     경고 대화 상자가 나타납니다. 이 대화 상자에서 [!INCLUDE[vsprvs](../includes/vsprvs-md.md)]가 주 스레드의 소스 코드를 표시할 수 없음을 알 수 있습니다.  
  
     **확인**을 클릭합니다.  
  
7.  확인 합니다 **호출 스택** 창 및 **디버그 위치** 도구 모음입니다.  
  
     콘텐츠를 **호출 스택** 창을 변경 합니다.  
  
## <a name="switching-the-active-thread"></a>활성 스레드 전환  
  
#### <a name="to-switch-threads"></a>스레드를 전환하려면  
  
1.  에 **스레드** 창 왼쪽에서 두 번째 열을 확인 합니다. 이 열의 맨 위에 있는 단추에는 텍스트나 아이콘이 없습니다. 이 열은는 **활성 스레드** 열입니다.  
  
2.  확인 합니다 **활성 스레드** 열과 하나의 스레드만 노란색 화살표는 합니다. 이 *활성 스레드 표시기*합니다.  
  
3.  활성 스레드 표시기가 있는 스레드 ID 번호를 메모합니다. 활성 스레드 표시기를 다른 스레드로 이동하겠지만 작업이 끝나면 다시 돌려 놓아야 합니다.  
  
4.  다른 스레드를 마우스 오른쪽 단추로 누른 **스레드로 전환**합니다.  
  
5.  확인 합니다 **호출 스택** 소스 창에서 창입니다. 내용이 변경되었습니다.  
  
6.  확인 합니다 **디버그 위치** 도구 모음입니다. 여기서도 활성 스레드가 변경되었습니다.  
  
7.  로 이동 합니다 **디버그 위치** 도구 모음입니다. 클릭 합니다 **스레드** 상자 및 드롭다운 목록에서 다른 스레드를 선택 합니다.  
  
8.  확인 합니다 **스레드** 창입니다. 활성 스레드 표시기가 변경되었습니다.  
  
9. 소스 창에서 스레드 마커를 마우스 오른쪽 단추로 클릭합니다. 바로 가기 메뉴에서 **전환할** 스레드 이름과 ID 번호를 클릭 합니다.  
  
     활성 스레드를 변경 하는 방법을 살펴 보았습니다:를 사용 하 여는 **스레드** 창 합니다 **스레드** 상자에 **디버그 위치** 도구 모음 및 스레드 표시기를 소스 창입니다.  
  
     스레드 표시기를 사용하면 특정 위치에서 중지된 스레드로만 전환할 수 있습니다. 사용 하 여 합니다 **스레드** 창 및 **디버그 위치** 도구 모음에서 모든 스레드로 전환할 수 있습니다.  
  
## <a name="freezing-and-thawing-thread-execution"></a>스레드 실행 중지 및 재개  
  
#### <a name="to-freeze-and-unfreeze-threads"></a>스레드를 중지 및 해제하려면  
  
1.  에 **스레드** 창에서 스레드를 마우스 오른쪽 단추로 클릭 하 고 클릭 **고정**합니다.  
  
2.  활성 스레드 열을 확인합니다. 세로 막대 쌍이 나타납니다. 이 두 개의 파란색 막대는 스레드가 중지되었음을 나타냅니다.  
  
3.  확인 합니다 **Suspend** 열입니다. 스레드의 일시 중단 횟수가 1입니다.  
  
4.  중지 된 스레드를 마우스 오른쪽 단추로 누른 **재개**합니다.  
  
     활성 스레드 열 및 **Suspend** 열 변경 합니다.  
  
## <a name="see-also"></a>참고 항목  
 [다중 스레드 응용 프로그램 디버그](../debugger/debug-multithreaded-applications-in-visual-studio.md)   
 [방법: 디버그 중 다른 스레드로 전환](../debugger/how-to-switch-to-another-thread-while-debugging.md)



